# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=5000
NODE_ENV=development
HOST=localhost

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB Atlas Cloud Connection (Primary)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/lens-portfolio?retryWrites=true&w=majority
MONGODB_TEST_URI=mongodb+srv://username:password@cluster.mongodb.net/lens-portfolio-test?retryWrites=true&w=majority

# MongoDB options (optional)
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME=30000
MONGODB_SERVER_SELECTION_TIMEOUT=5000
MONGODB_CONNECT_TIMEOUT=10000
MONGODB_SOCKET_TIMEOUT=45000

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration - Generate secure secrets for production!
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production
JWT_EXPIRE=7d
JWT_REFRESH_SECRET=your-refresh-secret-key-here-change-in-production
JWT_REFRESH_EXPIRE=30d

# Password requirements
MIN_PASSWORD_LENGTH=6
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=false

# =============================================================================
# CLOUDFLARE R2 STORAGE (Primary Storage)
# =============================================================================
# R2 Account Configuration
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key

# R2 Bucket Configuration
R2_BUCKET_NAME=your-bucket-name
R2_REGION=auto
R2_PUBLIC_URL=https://your-bucket-name.your-account-id.r2.cloudflarestorage.com

# R2 Environment-based Directory Structure
# Files will be organized as: bucket/environment/folder/file
R2_ENVIRONMENT_PREFIX=dev
# Options: dev, staging, prod, or custom string
# Examples:
# - dev: files stored in /dev/photos/, /dev/avatars/, etc.
# - prod: files stored in /prod/photos/, /prod/avatars/, etc.
# - staging: files stored in /staging/photos/, /staging/avatars/, etc.

# R2 Storage Settings
R2_STORAGE_CLASS=STANDARD
R2_CACHE_CONTROL=max-age=31536000
R2_CONTENT_DISPOSITION=inline

# R2 CDN and Transformations
R2_USE_CDN=true
R2_CDN_CUSTOM_DOMAIN=your-custom-domain.com
R2_ENABLE_IMAGE_TRANSFORMATIONS=true

# =============================================================================
# CLOUDINARY STORAGE (Alternative/Backup)
# =============================================================================
# Cloudinary Configuration (for fallback or specific features)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
CLOUDINARY_SECURE=true

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# File size limits (in bytes)
MAX_FILE_SIZE=10485760
MAX_AVATAR_SIZE=5242880
MAX_COVER_PHOTO_SIZE=10485760

# Allowed file types
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif
ALLOWED_IMAGE_EXTENSIONS=jpg,jpeg,png,webp,gif

# Image processing settings
IMAGE_QUALITY=85
IMAGE_MAX_WIDTH=2048
IMAGE_MAX_HEIGHT=2048
THUMBNAIL_SIZE=300
AVATAR_SIZE=400

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP Configuration (for notifications)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM=noreply@lens.photography

# Email templates
EMAIL_VERIFICATION_ENABLED=false
EMAIL_WELCOME_ENABLED=true
EMAIL_NOTIFICATIONS_ENABLED=true

# =============================================================================
# CORS & FRONTEND CONFIGURATION
# =============================================================================
# Frontend URLs (for CORS)
FRONTEND_URL=http://localhost:3000
FRONTEND_PROD_URL=https://your-domain.com

# CORS settings
CORS_CREDENTIALS=true
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# RATE LIMITING & SECURITY
# =============================================================================
# Rate limiting configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Security headers
SECURITY_HEADERS_ENABLED=true
HELMET_CSP_ENABLED=true

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
# Logging configuration
LOG_LEVEL=debug
LOG_FORMAT=combined
LOG_FILE_ENABLED=false
LOG_FILE_PATH=./logs/app.log

# Debug settings
DEBUG=lens:*
DEBUG_DATABASE=false
DEBUG_UPLOADS=false

# =============================================================================
# SUBSCRIPTION & LIMITS
# =============================================================================
# Free plan limits
FREE_PLAN_MAX_PHOTOS=30
FREE_PLAN_MAX_PORTFOLIOS=3
FREE_PLAN_MAX_FILE_SIZE=10485760

# Pro plan limits
PRO_PLAN_MAX_PHOTOS=999999
PRO_PLAN_MAX_PORTFOLIOS=999999
PRO_PLAN_MAX_FILE_SIZE=52428800

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
# Redis for caching and sessions
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# =============================================================================
# ANALYTICS & TRACKING
# =============================================================================
# Analytics settings
ANALYTICS_ENABLED=true
TRACK_VIEWS=true
TRACK_DOWNLOADS=true
TRACK_SHARES=true

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Development settings
DEV_AUTO_RELOAD=true
DEV_MOCK_EMAILS=false
DEV_SKIP_AUTH=false

# Testing configuration
TEST_DATABASE_URI=mongodb://localhost:27017/lens-portfolio-test
TEST_UPLOAD_PATH=./test-uploads
